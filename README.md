# Meet Niconico Comments

Google Meet のチャットメッセージをニコニコ動画風に画面上に流す Chrome 拡張機能です。

## インストール方法

1. Chrome で `chrome://extensions/` を開く
2. 右上の「デベロッパーモード」をONにする
3. 「パッケージ化されていない拡張機能を読み込む」をクリック
4. このフォルダ (`meet-niconico-extension`) を選択

## 使い方

1. Google Meet の会議に参加
2. チャットパネルを開く
3. 誰かがチャットを送信すると、メッセージがニコニコ風に画面を流れます

### テスト方法

- 拡張機能のポップアップからテストコメントを送信できます
- または、開発者コンソール (F12) で `testNiconicoComment("テスト")` を実行

## 機能

### ニコニコ風コメント
- チャットメッセージを右から左に流す
- テキスト長に応じたアニメーション速度調整
- ON/OFF 切り替え可能

### アジェンダ表示機能
会議のアジェンダ（議題）を画面上に表示できます。

#### 設定方法
1. 拡張機能のポップアップを開く
2. 「アジェンダ設定」セクションでアジェンダを入力
   - 形式: `1: 議題1のテキスト` （番号: テキスト）
3. 「保存」ボタンをクリック

#### アジェンダのインポート
- **CSV**: 「📄 CSV」ボタンからCSVファイルをインポート
- **Markdown/JSON**: 「📝 MD」ボタンからMarkdownまたはJSONファイルをインポート
  - Notionからエクスポートしたファイルに対応
  - 番号付きリスト、チェックリスト、箇条書き、見出しを自動解析

#### Claude CLIでNotionデータを変換
複雑なNotionデータを変換したい場合は、付属のシェルスクリプトを使用できます：

```bash
# Notionからエクスポートしたファイルを変換
./notion-to-agenda.sh meeting-agenda.md agenda.json

# 出力されたagenda.jsonを「📝 MD」ボタンでインポート
```

#### チャットコマンド
Google Meetのチャットで以下のコマンドを送信してアジェンダを操作します：

| コマンド | 説明 |
|---------|------|
| `/1` | アジェンダ1を表示 |
| `/2` | アジェンダ2を表示 |
| `/3` | アジェンダ3を表示（以降同様） |
| `/0` | アジェンダを非表示 |
| `/off` | アジェンダを非表示 |

#### 表示レイアウト
- **左上**: 全体アジェンダリスト（現在のアジェンダがハイライト表示）
- **右上**: 現在のアジェンダ（大きく目立つ表示）

#### アジェンダの共有（全参加者への同期）
拡張機能をインストールした参加者全員で同じアジェンダを共有できます。

1. ポップアップの「📤 全員に共有（チャットに送信）」ボタンをクリック
2. アジェンダデータがクリップボードにコピーされる
3. Google Meetのチャットに貼り付けて送信
4. 拡張機能をインストールしている他の参加者は自動でアジェンダを受信

**注意**: 共有機能は拡張機能をインストールしている参加者間でのみ動作します。

### AIコメント機能（オプション）
Anthropic APIを使用して、会議の内容に応じたAIコメントを自動生成できます。

1. ポップアップで「AIコメント」をONにする
2. Anthropic APIキーを入力して保存
3. チャットメッセージに応じてAIがコメントを生成

## 注意事項

- Google Meet の DOM 構造が変更されると動作しなくなる可能性があります
- その場合は `content.js` の `extractAndFlowMessage` 関数を調整してください

## アイコンについて

現在のアイコンはプレースホルダーです。カスタムアイコンを使用する場合：

1. `icons/generate-icons.html` をブラウザで開く
2. 各サイズのPNGをダウンロード
3. `icons/` フォルダに配置

## ファイル構成

```
meet-niconico-extension/
├── manifest.json        # 拡張機能の設定
├── content.js           # Meet ページで動作するスクリプト
├── background.js        # バックグラウンド処理（AI機能）
├── styles.css           # ニコニコ風アニメーション・アジェンダ表示
├── popup.html           # 設定UI
├── popup.js             # ポップアップの処理
├── notion-to-agenda.sh  # Notionデータ変換スクリプト
└── icons/               # アイコン
    ├── icon16.png
    ├── icon48.png
    └── icon128.png
```

## ライセンス

MIT
